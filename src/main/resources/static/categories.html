<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop By Category - Handy Craft</title>

    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/categories.css">

    <script defer src="js/auth.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Search Form Logic
            const searchForm = document.getElementById('search-form');
            if (searchForm) {
                searchForm.addEventListener('submit', (event) => {
                    event.preventDefault();
                    const query = document.getElementById('search-input').value;
                    if (query.trim()) {
                        window.location.href = `products.html?search=${encodeURIComponent(query)}`;
                    }
                });
            }
            renderCategories();
        });

        const categories = [
            { name: "Accessory", path: "Accessory", desc: "Handmade hairpins, clips, and wearable accents." },
            { name: "Bag", path: "Bag", desc: "Stylish and durable crochet bags for daily use." },
            { name: "Bag & Purse Set", path: "Bag & Purse Set", desc: "Matching sets for a complete handcrafted look." },
            { name: "Collectible", path: "Collectible", desc: "Unique limited edition handmade items." },
            { name: "Concert Accessory", path: "Concert Accessory", desc: "Custom lightstick sleeves and fan-made gear." },
            { name: "Crochet Decoration", path: "Crochet Decoration", desc: "Whimsical accents for your home and desk." },
            { name: "Crochet Flower", path: "Crochet Flower", desc: "Everlasting blooms that never wither." },
            { name: "Crochet Set", path: "Crochet Set", desc: "Coordinated sets perfect for gifting." },
            { name: "Crochet Toy", path: "Crochet Toy", desc: "Adorable amigurumi plushies and characters." },
            { name: "Crochet Toy & Utility", path: "Crochet Toy & Utility", desc: "Functional items with a cute toy twist." },
            { name: "Hat", path: "Hat", desc: "Cozy beanies and stylish sun hats." },
            { name: "Home Accessory", path: "Home Accessory", desc: "Coasters, mats, and daily essentials." },
            { name: "Jewelry", path: "Jewelry", desc: "Delicate crochet earrings and necklaces." },
            { name: "Keychain", path: "Keychain", desc: "Miniature crafts to carry with you everywhere." },
            { name: "Pet Accessory", path: "Pet Accessory", desc: "Handmade collars and toys for your furry friends." },
            { name: "Pouch", path: "Pouch", desc: "Small organizers for coins, makeup, or tech." },
            { name: "Purse", path: "Purse", desc: "Elegant small purses for special occasions." },
            { name: "Stationery", path: "Stationery", desc: "Handmade bookmarks and pen cozies." }
        ];

        function renderCategories() {
            const container = document.getElementById('categories-container');
            let html = '';

            categories.forEach(cat => {
                html += `
                    <div class="cat-card">
                        <div class="cat-info">
                            <h3>${cat.name}</h3>
                            <p>${cat.desc}</p>
                            <a href="products.html?category=${encodeURIComponent(cat.path)}" class="button primary">Explore Collection</a>
                        </div>
                    </div>
                `;
            });

            // Special "View All" Card
            html += `
                <div class="cat-card all-products-card">
                    <div class="cat-info">
                        <h3>Full Collection</h3>
                        <p>Browse everything Handy Craft has to offer.</p>
                        <a href="products.html?category=all" class="button primary">View All Items</a>
                    </div>
                </div>
            `;
            container.innerHTML = html;
        }

        function viewCart() {
            window.location.href = "products.html";
        }
    </script>
</head>
<body>

<header class="main-header">
    <nav class="container">
        <div class="logo">
            <a href="index.html" class="logo-link-with-text">
                <img src="images/logo.png" alt="Handy Craft Logo" height="40">
                <span class="site-title">Handy Craft</span>
            </a>
        </div>
        <ul class="nav-links">
            <li><a href="products.html">Products</a></li>
            <li class="active"><a href="categories.html">Categories</a></li>
            <li><a href="aboutus.html">About Us</a></li>

            <li class="search-container">
                <form id="search-form" class="search-form">
                    <input type="text" id="search-input" placeholder="Search products..." required>
                    <button type="submit" class="search-button">Search</button>
                </form>
            </li>

            <li><a href="#" onclick="event.preventDefault(); viewCart();">
                <span role="img" aria-label="shopping cart"> </span> View Cart
            </a></li>

            <li id="auth-links-container" class="auth-links-container">
                <ul id="auth-links" class="nav-links"></ul>
            </li>
        </ul>
    </nav>
</header>

<main class="categories-page">
    <header class="category-hero">
        <div class="container">
            <h1>Handmade Collections</h1>
            <p>Thoughtfully crafted items, made one stitch at a time.</p>
        </div>
    </header>

    <div class="container">
        <section class="categories-grid" id="categories-container">
        </section>
    </div>
</main>

<footer class="main-footer">
    <div class="footer-links container">
        <p>&copy; 2025 Handy Craft. All rights reserved.</p>
        <div class="policy-buttons">
            <a href="#" onclick="showPolicyModal('privacy.html', 'Privacy Policy')" class="button secondary policy-button">Privacy Policy</a>
            <a href="#" onclick="showPolicyModal('terms.html', 'Terms of Service')" class="button secondary policy-button">Terms of Service</a>
        </div>
    </div>
</footer>

<div id="policyModal" class="modal" style="display:none;">
    <div class="modal-content">
        <span class="close" onclick="closePolicyModal()">&times;</span>
        <h2 id="modalTitle"></h2>
        <div id="modalContent"></div>
    </div>
</div>

</body>
</html>